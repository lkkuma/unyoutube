<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />

    <title>Bypass YouTube video embed restriction</title>
    <meta
      http-equiv="Referrer-Policy"
      content="origin-when-cross-origin"
    />
    <meta
      http-equiv="Permissions-Policy"
      content="autoplay 'self' https://www.youtube.com https://*.github.io https://*.github.com"
    />
    <meta
      http-equiv="Access-Control-Allow-Origin"
      content="*"
    />

    <style>
      html {
        overflow: hidden;
      }
      iframe {
        width: 100vw;
        height: 100vh;
      }
    </style>
  </head>

  <body>
    <iframe
      id="unytifrm"
      src=""
      allow="autoplay 'self'; encrypted-media 'self';"
      allowfullscreen="allowfullscreen"
      playsinline=""
    ></iframe>

    <script id="rendered-js">
      (() => {
        const url = new URL(window.location);
        const vid = url.searchParams.get("v");
        url.searchParams.delete("v");
        const embedUrl = new URL(
          `https://www.youtube.com/embed/${vid}?${url.searchParams.toString()}`
        );
        document.getElementById("unytifrm").src = embedUrl;
      })();
    </script>
  </body>
</html>
